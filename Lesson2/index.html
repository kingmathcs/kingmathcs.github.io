<!doctype html>
<html lang="en" class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface no-generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="x-ua-compatible" content="IE=Edge"> 
<meta name="application-name" content="Learn SQL with simple, interactive exercises.">
<meta name="application-url" content="#">
<meta name="created" content="2015-04-01">
<meta name="description" content="SQL provides a set of interactive lessons and exercises to help you learn SQL">
<meta name="keywords" content="sql,mysql,sqlite,postgres,javascript,learn,tutorial,interactive,lessons,">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link type="image/png" href="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/favicon.png" rel="icon">
<title>Learn SQL - SQL Lesson 2: Queries with constraints</title>

<!-- PREFETCH -->
<link rel="prefetch" href="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/sql_3.8.7.4.js">

<!-- CSS -->
<link type="text/css" href="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/bootstrap.min.css" rel="stylesheet">
<link type="text/css" href="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/css" rel="stylesheet">
<link type="text/css" href="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/main.min.css" rel="stylesheet">
<style type="text/css">
</style>

<!-- BODY -->
<body class="">


<div class="container">
    <div class="row content">


        <!-- LESSON -->
<div class="row">
    <div class="col-xs-12 col-sm-12 col-md-9">
        <!-- LESSON TITLE & BODY -->
        <div class="lesson">
            <div class="title">
                SQL Lesson 2: Queries with constraints
            </div>
            <div class="body">
                <p>Now we know how to select for specific columns of data from a table, but if you had a table with a 
                    hundred million rows of data, reading through all the rows would be inefficient and perhaps even
                    impossible.</p>
                    <p>In order to filter certain results from being returned, we need to use a <code>WHERE</code> clause in the query.
                    The clause is applied to each row of data by checking specific column values to determine whether it
                    should be included in the results or not.</p>
                    <div class="definition row">
                        <div class="desc">Select query with constraints</div>
                        <code class="sql hljs"><span class="hljs-operator"><span class="hljs-keyword">SELECT</span> column, another_column, …
                    <span class="hljs-keyword">FROM</span> mytable
                    </span><strong><span class="hljs-operator"><span class="hljs-keyword">WHERE</span> </span><i><span class="hljs-operator">condition</span></i><span class="hljs-operator">
                        <span class="hljs-keyword">AND</span>/<span class="hljs-keyword">OR</span> </span><i><span class="hljs-operator">another_condition</span></i><span class="hljs-operator">
                        <span class="hljs-keyword">AND</span>/<span class="hljs-keyword">OR</span> …</span></strong><span class="hljs-operator">;</span></code>
                    </div>
                    
                    <p>More complex clauses can be constructed by joining numerous <code>AND</code> or <code>OR</code> logical keywords (ie. 
                    num_wheels &gt;= 4 AND doors &lt;= 2).  And below are some useful operators that you can use for numerical 
                    data (ie. integer or floating point):</p>
                    
                    
                    


                <p>When writing <code>WHERE</code> clauses with columns containing text data, SQL supports a number of useful operators
to do things like case-insensitive string comparison and wildcard pattern matching.  We show a few common
text-data specific operators below:</p>
<div class="datatable">
    <table class="table table-striped table-condensed">
        <tbody><tr>
            <td style="width: 15%; text-align: center;">Operator</td>
            <td style="width: 60%">Condition</td>
            <td>Example</td>
        </tr>
        <tr>
            <td style="text-align: center;">=, !=, &lt; &lt;=, &gt;, &gt;=</td>
            <td>Standard numerical operators</td>
            <td>col_name <span class="faux-keyword">!=</span> 4</td>
        </tr>
        <tr>
            <td style="text-align: center;">IN (…)</td>
            <td>Number exists in a list</td>
            <td>col_name <span class="faux-keyword">IN</span> (2, 4, 6)</td>
        </tr>
        <tr>
            <td style="text-align: center;">NOT IN (…)</td>
            <td>Number does not exist in a list</td>
            <td>col_name <span class="faux-keyword">NOT IN</span> (1, 3, 5)</td>
        </tr>
        <tr>
            <td style="text-align: center;">=</td>
            <td>Case sensitive exact string comparison (<em>notice the single equals</em>)</td>
            <td>col_name <span class="faux-keyword">=</span> "abc"</td>
        </tr>
        <tr>
            <td style="text-align: center;">!= or &lt;&gt;</td>
            <td>Case sensitive exact string inequality comparison</td>
            <td>col_name <span class="faux-keyword">!=</span> "abcd"</td>
        </tr>
        <tr>
            <td style="text-align: center;">LIKE</td>
            <td>Case insensitive exact string comparison</td>
            <td>col_name <span class="faux-keyword">LIKE</span> "ABC"</td>
        </tr>
        <tr>
            <td style="text-align: center;">NOT LIKE</td>
            <td>Case insensitive exact string inequality comparison</td>
            <td>col_name <span class="faux-keyword">NOT LIKE</span> "ABCD"</td>
        </tr>
        <tr>
            <td style="text-align: center;">%</td>
            <td>Used anywhere in a string to match 
                a sequence of zero or more characters (only with LIKE or NOT LIKE)</td>
            <td>col_name <span class="faux-keyword">LIKE</span> "%AT%"<br>
                (matches "<span class="uline">AT</span>", "<span class="uline">AT</span>TIC", "C<span class="uline">AT</span>" 
                    or even "B<span class="uline">AT</span>S")</td>
        </tr>
        <tr>
            <td style="text-align: center;">_</td>
            <td>Used anywhere in a string to match 
                a single character (only with LIKE or NOT LIKE)</td>
            <td>col_name <span class="faux-keyword">LIKE</span> "AN_"<br>
                (matches "<span class="uline">AN</span>D", but not "<span class="uline">AN</span>")</td>
        </tr>
        <tr>
            <td style="text-align: center;">IN (…)</td>
            <td>String exists in a list</td>
            <td>col_name <span class="faux-keyword">IN</span> ("A", "B", "C")</td>
        </tr>
        <tr>
            <td style="text-align: center;">NOT IN (…)</td>
            <td>String does not exist in a list</td>
            <td>col_name <span class="faux-keyword">NOT IN</span> ("D", "E", "F")</td>
        </tr>
    </tbody></table>
</div>

<div class="dyk">
    <div class="desc">Did you know?</div>
    <p>
    All strings must be quoted so that the query parser can distinguish words in the string from SQL keywords.
    </p>
</div>

<p>In addition to making the results more manageable to understand, writing clauses to constrain the
    set of rows returned also allows the query to run faster due to the reduction in unnecessary data
    being returned.</p>
    <div class="dyk">
        <div class="desc">Did you know?</div>
        <p>
        As you might have noticed by now, SQL doesn't <i>require</i> you to write the keywords all capitalized,
        but as a convention, it helps people distinguish SQL keywords from column and tables names, and makes
        the query easier to read.
        </p>
    </div>


<p>We should note that while most database implementations are quite efficient when using these operators, 
full-text search is best left to dedicated libraries like <a href="http://lucene.apache.org/" title="Apache Lucene">Apache Lucene</a> 
or <a href="http://sphinxsearch.com/" title="Sphinx Search">Sphinx</a>. These libraries are designed specifically to 
do full text search, and as a result are more efficient and can support a wider variety of search 
features including internationalization and advanced queries.</p>
<h1>Exercise</h1>
<p>Here's the definition of a query with a <code>WHERE</code> clause again, go ahead and try and write some queries
with the operators above to limit the results to the information we need in the tasks below.</p>
<div class="definition">
    <div class="desc">Select query with constraints</div>
    <code class="sql hljs"><span class="hljs-operator"><span class="hljs-keyword">SELECT</span> column, another_column, …
<span class="hljs-keyword">FROM</span> mytable
</span><strong><span class="hljs-operator"><span class="hljs-keyword">WHERE</span> </span><i><span class="hljs-operator">condition</span></i><span class="hljs-operator">
    <span class="hljs-keyword">AND</span>/<span class="hljs-keyword">OR</span> </span><i><span class="hljs-operator">another_condition</span></i><span class="hljs-operator">
    <span class="hljs-keyword">AND</span>/<span class="hljs-keyword">OR</span> …</span></strong><span class="hljs-operator">;</span></code>
</div>
            </div>
        </div>
    </div>

    <div class="col-xs-12">
        <!-- EXERCISE -->
        <div class="disabled_exercise_overlay">
    Sorry but the SQL exercises require a more recent browser to run.<br>Please upgrade to the latest version of <a href="http://windows.microsoft.com/en-us/internet-explorer/download-ie" title="Download Internet Explorer">Internet Explorer</a>, <a href="https://www.google.com/chrome/browser/desktop/index.html" title="Download Chrome">Chrome</a>, or <a href="https://www.mozilla.org/en-US/firefox/new/" title="Download Firefox">Firefox</a>!
    <br><br>
    <span>Otherwise, continue to the next lesson: <a href="#">SQL Lesson 4: Filtering and sorting Query results</a></span>
</div>
<div class="exercise" exerciseid="ex3" style="position: relative;">
	<div class="body row">
        <div class="datatable_title col-xs-12 col-sm-8 col-md-8">Table: movies</div>
        <div class="table_and_input col-xs-12 col-sm-8 col-md-8">
            <div class="message"></div>
            <div class="datatable" datatableid="movies">
                <table class="table table-striped table-condensed">
                    <tbody>
                        <tr><td class="column_name">id</td><td class="column_name">title</td><td class="column_name">director</td><td class="column_name">year</td><td class="column_name">length_minutes</td></tr>
                        <tr><td>1</td><td>Toy Story</td><td>John Lasseter</td><td>1995</td><td>81</td></tr>
                        <tr><td>2</td><td>A Bug's Life</td><td>John Lasseter</td><td>1998</td><td>95</td></tr><tr><td>3</td><td>Toy Story 2</td><td>John Lasseter</td><td>1999</td><td>93</td></tr><tr><td>4</td><td>Monsters, Inc.</td><td>Pete Docter</td><td>2001</td><td>92</td></tr><tr><td>5</td><td>Finding Nemo</td><td>Andrew Stanton</td><td>2003</td><td>107</td></tr><tr><td>6</td><td>The Incredibles</td><td>Brad Bird</td><td>2004</td><td>116</td></tr><tr><td>7</td><td>Cars</td><td>John Lasseter</td><td>2006</td><td>117</td></tr><tr><td>8</td><td>Ratatouille</td><td>Brad Bird</td><td>2007</td><td>115</td></tr><tr><td>9</td><td>WALL-E</td><td>Andrew Stanton</td><td>2008</td><td>104</td></tr><tr><td>10</td><td>Up</td><td>Pete Docter</td><td>2009</td><td>101</td></tr><tr><td>11</td><td>Toy Story 3</td><td>Lee Unkrich</td><td>2010</td><td>103</td></tr><tr><td>12</td><td>Cars 2</td><td>John Lasseter</td><td>2011</td><td>120</td></tr><tr><td>13</td><td>Brave</td><td>Brenda Chapman</td><td>2012</td><td>102</td></tr><tr><td>14</td><td>Monsters University</td><td>Dan Scanlon</td><td>2013</td><td>110</td></tr>
                        <tr>
                            <td>15</td>
                            <td>Toy Story 4</td>
                            <td>Josh Cooley</td>
                            <td>2019</td>
                            <td>89</td>
                        </tr>
                        <tr><td>87</td><td>WALL-G</td><td>Brenda Chapman</td><td>2042</td><td>97</td></tr></tbody></table></div>
			<div class="sqlinput_container">
                <a href="#" class="clear">RESET</a>
	    		<div id="ace_text" class="sqlinput ace_editor ace-tm" targetdatatableid="movies" style="font-size: 1em;"><textarea class="ace_text-input" wrap="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="opacity: 0; height: 18.8889px; width: 10.1219px; left: 228.559px; top: 0px;"></textarea><div class="ace_gutter" style="display: none;"><div class="ace_layer ace_gutter-layer ace_folding-enabled" style="margin-top: 0px;"></div><div class="ace_gutter-active-line" style="top: 0px; height: 18.8889px;"></div></div><div class="ace_scroller" style="left: 0px; right: 0px; bottom: 0px;"><div class="ace_content" style="margin-top: 0px; width: 743px; height: 173.778px; margin-left: 0px;"><div class="ace_layer ace_print-margin-layer"><div class="ace_print-margin" style="left: 16px; visibility: hidden;"></div></div><div class="ace_layer ace_marker-layer"></div><div class="ace_layer ace_text-layer" style="padding: 0px 16px;"><div class="ace_line_group" style="height:18.88888931274414px"><div class="ace_line" style="height:18.88888931274414px"><span class="ace_keyword">SELECT</span> * <span class="ace_keyword">FROM</span> <span class="ace_identifier">movies</span>;</div></div></div><div class="ace_layer ace_marker-layer"></div><div class="ace_layer ace_cursor-layer ace_hidden-cursors"><div class="ace_cursor" style="left: 228.559px; top: 0px; width: 10.1219px; height: 18.8889px;"></div></div></div></div><div class="ace_scrollbar ace_scrollbar-v" style="display: none; width: 20px; bottom: 0px;"><div class="ace_scrollbar-inner" style="width: 20px; height: 18.8889px;"></div></div><div class="ace_scrollbar ace_scrollbar-h" style="display: none; height: 20px; left: 0px; right: 0px;"><div class="ace_scrollbar-inner" style="height: 20px; width: 743px;"></div></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; overflow: hidden;"><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; overflow: visible;"></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; overflow: visible;">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</div></div></div>
	    	</div>
		</div><!-- /table_and_input -->

		<div class="tasks_and_continue col-xs-12 col-sm-4 col-md-4">
			<div class="tasks_title">
				Exercise 2 — <span class="title">Tasks</span>
			</div>
			<ol class="tasks_list">
                <li class="active">
                    Find all the movies that are under 100 minutes long.
                </li>
                <li>
                    Find all the movies that were released in the 2010s.
                </li>
                <li>
                    Find all the movies that were <strong>not</strong> released in the 2010s.
                </li>
                <li>
                    Find all the movies directed by John Lasseter.
                </li>
                <li>
                    Find all the Toy Story movies.
                </li>
			</ol>
            
			<a href="#" class="continue disabled">
				Finish above Tasks
			</a>
		</div><!-- /tasks_and_continue -->
	</div><!-- /body -->
</div><!-- /exercise -->


         
    </div>
</div>

    </div>
</div>



<!-- JS -->

<script type="text/javascript" src="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/jquery.min.js"></script>
<script type="text/javascript" src="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/underscore-min.js"></script>
<script type="text/javascript" src="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/bootstrap.min.js"></script>
<script type="text/javascript" src="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/highlight.min.js"></script>
<script type="text/javascript" src="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/modernizr.min.js"></script>
<script type="text/javascript" src="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/main.min.js"></script>
<script type="text/javascript" src="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/sql_3.8.7.4.js"></script>
<script type="text/javascript" src="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/ace.js"></script>
<script type="text/javascript" src="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/mode-sql.js"></script>
<script type="text/javascript" src="./Learn SQL - SQL Lesson 2_ Queries with constraints (Pt. 1-2)_files/pixar.js"></script>





<script type="text/javascript">
	"use strict";

    // Setup the exercises
    var exerciseJson = "{\"tasks_title\": \"Exercise 2\", \"database\": \"pixar.js\", \"targetDatatableId\": \"movies\", \"inputDefaultQuery\": \"SELECT * FROM movies;\", \"inputDefaultQuerySelection\": [20, 20], \"datatable\": {\"movies\": {\"preloadTableQuery\": \"INSERT INTO movies VALUES (15, \\\"Toy Story 4\\\", \\\"Josh Cooley\\\", 2019, 89), (88, \\\"WALL-G\\\", \\\"Brenda Chapman\\\", 2042, 97);\", \"defaultQuery\": \"SELECT * FROM movies;\"}}, \"tasks\": [{\"text\": \"Find all the movies that are under 100 minutes long\", \"userSolution\": \"SELECT title, director FROM movies \\nWHERE Length_minutes < 100;\", \"solution\": \"SELECT title, director FROM movies \\nWHERE Length_minutes < 100;\", \"checks\": [{\"type\": \"row_col_val_solution_query\", \"data\": null}]}, {\"text\": \"Find all the movies that were released in the 2010s\", \"userSolution\": \"SELECT title, director FROM movies \\nWHERE YEAR >= 2010 AND Year <= 2019;\", \"solution\": \"SELECT title, director FROM movies \\nWHERE YEAR >= 2010 AND Year <= 2019;\", \"checks\": [{\"type\": \"row_col_val_solution_query\", \"data\": null}]}, {\"text\": \"Find all the movies that were not released in the 2010s\", \"userSolution\": \"SELECT title, director FROM movies \\nWHERE YEAR < 2010 OR Year > 2019;\", \"solution\": \"SELECT title, director FROM movies \\nWHERE YEAR < 2010 OR Year > 2019;\", \"checks\": [{\"type\": \"row_col_val_solution_query\", \"data\": null}]}, {\"text\": \"Find all the movies directed by John Lasseter\", \"userSolution\": \"SELECT title, director FROM movies \\nWHERE director = \\\"John Lasseter\\\";\", \"solution\": \"SELECT title FROM movies \\nWHERE director = \\\"John Lasseter\\\";\", \"checks\": [{\"type\": \"row_col_val_solution_query\", \"data\": null}]}, {\"text\": \"Find all the Toy Story movies\", \"userSolution\": \"SELECT title, director FROM movies \\nWHERE title LIKE \\\"Toy Story%\\\";\", \"solution\": \"SELECT title FROM movies \\nWHERE title LIKE \\\"Toy Story%\\\";\", \"checks\": [{\"type\": \"row_col_val_solution_query\", \"data\": null}]}]}";

    initializeDocumentLoad(exerciseJson, "lesson/3");
    exerciseJson = null;
</script>

</body></html>